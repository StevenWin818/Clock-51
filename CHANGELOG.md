# Changelog

## v1.0-opt - 2025-11-15
- 优化点：
  - 将 `Buzzer_Short` 与 `Buzzer_Long` 合并为共用的 `Buzzer_Pulse`，移除重复检查逻辑。
  - 精简 `Buzzer_Update` 分支，减少重复条件判断与分支。
- 修改文件： `buzzer.c`
- Git 提交信息： `[优化] 减少代码量，保持功能不变`

(自动生成：首轮无人工确认的代码体积优化）

## v1.1-opt - 2025-11-15
- 优化点：
  - 将 `IsLeapYear` 简化为单表达式，减少分支。
  - 将 `DateTime_AddSecond` 的嵌套分支线性化，减少代码体积并提高可读性。
- 修改文件： `clock.c`
- Git 提交信息： `[优化] 减少代码量，保持功能不变`

## v1.2-opt - 2025-11-15
- 优化点：
  - 删除重复的 `#include "clock.h"`，移除冗余引用。
  - 将主页/秒表/圈次中绘制点阵的重复循环提取为更为紧凑的实现，减少代码重复。
  - 让 `Display_Char_8x16` / `Display_Char_16x16` 复用已有的 `Custom` 版本，减少重复绘制循环。
- 修改文件： `display.c`
- Git 提交信息： `[优化] 减少代码量，保持功能不变`

## v1.3-opt - 2025-11-15
- 优化点：
  - 将 `GetCharIndex` 由冗长分支替换为 `switch` 实现，减少条件分支代码量并保持行为一致。
- 修改文件： `font.c`
- Git 提交信息： `[优化] 减少代码量，保持功能不变`

## v1.4-fix - 2025-11-18
- 修复/改进点：
  - 将用户提供并居中的 16×16 数字字模（0..9、冒号、减号、斜线、空格）写入 `Font_16x16`，并移除重复定义。
  - 将主页大字（主时钟数字）列步长从 12 调整为 16，以匹配 16×16 字模宽度，避免右侧像素裁切。
  - 修复在整合字模时引入的 Keil C51 编译问题（数组终止符与 `code` 存储说明符位置修正）。
  - 对若干字符进行像素微调：`1`、`:`、`6`、`8`、`9` 的上/下半部分按需左右/上下移位以改善对齐。
  - 将主页的英文星期渲染切换为使用 `Font_8x16_ext`（显示 A-Z 缩写）。
  - 新增 `tools/visualize_font.py`：用于在主机上渲染 ASCII 预览并试验字模水平偏移，便于离线调试和微调。
  - 修改文件：`font.c`, `display.c`, `tools/visualize_font.py`
  - Git 提交信息： `[fix] 字体与显示对齐修正；添加字体可视化脚本`
